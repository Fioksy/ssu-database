<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SSU PDA v4.5 - FIELD UNIT</title>
    <style>
        :root {
            /* Shell / hardware */
            --shell-base: #313738;
            --shell-edge-dark: #141719;
            --shell-edge-light: #545b5d;
            --shell-screw: #1c2021;

            /* Screen / OS */
            --lcd-border: #050707;
            --lcd-inner: #061012;
            --lcd-glow: rgba(103, 175, 129, 0.1);

            /* UI colours (early 2000s OS vibe) */
            --os-bg: #1b2627;
            --os-panel: #202b2d;
            --os-panel-alt: #263335;
            --os-border-light: #5a7073;
            --os-border-dark: #101415;
            --os-accent: #79c27e;
            --os-accent-soft: #547f59;
            --os-text-main: #d7f0de;
            --os-text-muted: #9ab2a0;
            --os-text-warning: #ffdd88;

            /* Fonts */
            --sys-font: 'Tahoma', 'MS Sans Serif', 'Segoe UI', sans-serif;
            --bios-font: 'Lucida Console', 'Courier New', monospace;
        }

        body {
            background: radial-gradient(circle at top, #252b2e 0%, #050608 55%, #020203 100%);
            font-family: var(--sys-font);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            color: var(--os-text-main);
        }

        /* RUGGED PDA CHASSIS */
        .pda-chassis {
            width: 900px;
            height: 550px;
            background: radial-gradient(circle at 20% 20%, #414849 0, #303637 50%, #1a1f20 100%);
            border-radius: 32px;
            padding: 20px 28px;
            box-shadow:
                0 45px 90px rgba(0,0,0,0.9),
                inset 0 0 0 3px var(--shell-edge-dark),
                inset 0 0 0 4px #000;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Hardware detailing: screws & grip */
        .pda-chassis::before,
        .pda-chassis::after {
            content: "";
            position: absolute;
            top: 18px;
            bottom: 18px;
            width: 10px;
            border-radius: 999px;
            background:
                linear-gradient(to bottom, #222829, #111415 40%, #202628 60%, #131718 100%);
            box-shadow: inset 0 0 0 1px #050708;
        }

        .pda-chassis::before {
            left: 8px;
        }
        .pda-chassis::after {
            right: 8px;
        }

        .pda-screws {
            position: absolute;
            inset: 12px 20px auto 20px;
            pointer-events: none;
        }
        .pda-screws::before,
        .pda-screws::after {
            content: "";
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #687374 0, #303637 40%, #111516 100%);
            box-shadow:
                0 0 0 1px #000,
                0 1px 0 rgba(255,255,255,0.1),
                0 2px 3px rgba(0,0,0,0.7);
        }
        .pda-screws::before {
            left: 0;
        }
        .pda-screws::after {
            right: 0;
        }

        /* LABEL STRIP */
        .pda-label-strip {
            position: absolute;
            top: 16px;
            left: 50%;
            transform: translateX(-50%);
            padding: 2px 14px;
            border-radius: 12px;
            background: linear-gradient(to bottom, #51585a, #303536);
            box-shadow:
                inset 0 0 0 1px rgba(255,255,255,0.08),
                0 1px 2px rgba(0,0,0,0.8);
            font-size: 10px;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: #d5e8dd;
        }

        /* Screen area is inset like an LCD */
        .pda-screen {
            flex-grow: 1;
            margin-top: 32px;
            background: radial-gradient(circle at 20% 0%, rgba(255,255,255,0.1) 0, transparent 50%) #151a1b;
            border-radius: 20px;
            border: 4px solid #050707;
            padding: 10px;
            box-shadow:
                inset 0 0 0 1px #262d2f,
                inset 0 0 30px rgba(0,0,0,0.85);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .pda-screen::before {
            /* subtle scanline / glass effect */
            content: "";
            position: absolute;
            inset: 6px;
            border-radius: 12px;
            background:
                repeating-linear-gradient(
                    to bottom,
                    rgba(102, 162, 122, 0.06),
                    rgba(102, 162, 122, 0.06) 1px,
                    transparent 2px,
                    transparent 3px
                ),
                radial-gradient(circle at top left, rgba(255,255,255,0.14), transparent 55%);
            pointer-events: none;
            mix-blend-mode: soft-light;
            opacity: 0.8;
        }

        /* Inner OS frame */
        .pda-os-frame {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            border-radius: 12px;
            overflow: hidden;
            background: radial-gradient(circle at 50% -40%, #344444 0, #151d1f 55%, #050809 100%);
            box-shadow:
                inset 0 0 0 1px #1a2223,
                0 0 0 1px rgba(0,0,0,0.8);
        }

        /* TITLE BAR - early 2000s OS */
        .title-bar {
            background: linear-gradient(to right, #173334, #12302f);
            color: var(--os-text-main);
            padding: 4px 8px;
            font-size: 11px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #050707;
            box-shadow:
                inset 0 1px 0 rgba(255,255,255,0.06),
                0 1px 0 rgba(0,0,0,0.9);
        }

        .title-left {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .title-icon {
            width: 14px;
            height: 14px;
            border-radius: 3px;
            background:
                radial-gradient(circle at 30% 30%, #7cf09a 0, #2c5f3a 45%, #071710 100%);
            box-shadow: 0 0 6px rgba(161, 233, 179, 0.55);
            position: relative;
        }
        .title-icon::before,
        .title-icon::after {
            content: "";
            position: absolute;
            inset: 3px 5px;
            border-radius: 1px;
            border: 1px solid rgba(6,16,10,0.6);
        }
        .title-icon::after {
            inset: 5px 3px;
            border-color: rgba(140,230,162,0.5);
        }

        .title-text-main {
            font-weight: bold;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }
        .title-text-sub {
            font-size: 10px;
            color: var(--os-text-muted);
        }

        .title-right {
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--os-text-muted);
        }

        .zone-tag {
            padding: 1px 6px;
            border-radius: 8px;
            border: 1px solid rgba(122, 192, 126, 0.55);
            background: rgba(19, 46, 31, 0.8);
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 0.11em;
            color: #c6f1cf;
        }

        #pda-clock {
            font-family: var(--bios-font);
        }

        /* NAV BAR - tab strip */
        .pda-nav {
            display: flex;
            background: #151c1e;
            border-bottom: 1px solid #000;
            box-shadow:
                inset 0 1px 0 rgba(255,255,255,0.05),
                0 1px 0 rgba(0,0,0,0.9);
        }

        .nav-btn {
            padding: 6px 18px;
            font-size: 11px;
            cursor: pointer;
            border-right: 1px solid #000;
            border-left: 1px solid #0b1011;
            color: var(--os-text-muted);
            background: linear-gradient(to bottom, #202729, #151b1c);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .nav-btn::before {
            content: "";
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #4c5b5c 0, #1a2224 60%, #050a0b 100%);
            box-shadow: 0 0 3px rgba(0,0,0,0.9);
        }

        .nav-btn:hover {
            background: linear-gradient(to bottom, #293234, #181f20);
        }

        .nav-btn.active {
            background: linear-gradient(to bottom, #2a3c3c, #192828);
            color: var(--os-text-main);
            box-shadow:
                inset 0 0 0 1px #3d5253,
                0 0 0 1px #000;
        }

        .nav-btn.active::before {
            background: radial-gradient(circle at 30% 30%, #8ff0a3 0, #2a6b3a 50%, #041108 100%);
            box-shadow: 0 0 6px rgba(117, 218, 142, 0.9);
        }

        /* VIEWPORT */
        .viewport {
            flex-grow: 1;
            margin: 6px;
            border-radius: 8px;
            border: 1px solid #070b0c;
            box-shadow:
                inset 0 0 0 1px #273133,
                0 0 0 1px rgba(0,0,0,0.8);
            background: radial-gradient(circle at 50% 0%, rgba(108,179,133,0.06) 0, transparent 60%) #0b1213;
            overflow-y: auto;
        }

        .viewport::-webkit-scrollbar {
            width: 10px;
        }
        .viewport::-webkit-scrollbar-track {
            background: #05080a;
        }
        .viewport::-webkit-scrollbar-thumb {
            background: #283336;
            border-radius: 8px;
            border: 1px solid #05080a;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            display: none;
            font-size: 11px;
            color: var(--os-text-main);
        }
        table.active {
            display: table;
        }

        th {
            position: sticky;
            top: 0;
            z-index: 10;
            text-align: left;
            padding: 6px 8px;
            background: linear-gradient(to bottom, #1a2426, #12191b);
            border-bottom: 1px solid #030708;
            border-top: 1px solid #354345;
            border-right: 1px solid #131b1c;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: normal;
            color: #aee4b8;
        }

        td {
            border-bottom: 1px solid #111618;
            border-right: 1px solid #0c1011;
            padding: 4px 6px;
        }

        input,
        select {
            width: 100%;
            height: 26px;
            border-radius: 3px;
            border: 1px solid #232c2e;
            padding: 3px 4px;
            font-size: 11px;
            font-family: var(--sys-font);
            background: radial-gradient(circle at 50% 0%, #283634 0, #141b1c 80%);
            color: var(--os-text-main);
            box-shadow:
                inset 0 0 0 1px #0d1314,
                0 0 0 1px rgba(0,0,0,0.7);
        }

        input::placeholder {
            color: #556e5e;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #62b973;
            box-shadow:
                0 0 0 1px rgba(124, 220, 146, 0.7),
                0 0 8px rgba(124, 220, 146, 0.5);
        }

        /* ACTION BAR */
        .action-bar {
            padding: 6px 8px;
            background: #0c1314;
            border-top: 1px solid #000;
            display: flex;
            gap: 8px;
            align-items: center;
            box-shadow:
                inset 0 1px 0 rgba(255,255,255,0.03),
                0 -1px 0 rgba(0,0,0,0.9);
        }

        .gloss-btn {
            background: linear-gradient(to bottom, #293435, #141b1c);
            border-radius: 4px;
            border: 1px solid #1e292b;
            box-shadow:
                0 1px 0 rgba(255,255,255,0.05),
                0 0 0 1px rgba(0,0,0,0.9);
            padding: 5px 14px;
            font-size: 11px;
            color: var(--os-text-main);
            text-transform: uppercase;
            letter-spacing: 0.12em;
            cursor: pointer;
        }

        .gloss-btn:hover {
            background: linear-gradient(to bottom, #314042, #181f21);
        }

        .gloss-btn:active {
            background: #151c1e;
            box-shadow:
                inset 0 0 6px rgba(0,0,0,0.7),
                0 0 0 1px rgba(0,0,0,1);
        }

        .commit-btn {
            background: linear-gradient(to bottom, #3b6b40, #1b3b23);
            border-color: #18411f;
            box-shadow:
                0 1px 0 rgba(180, 242, 193, 0.3),
                0 0 0 1px rgba(0,0,0,1);
        }

        .commit-btn:hover {
            background: linear-gradient(to bottom, #48854f, #21512c);
        }

        /* STATUS FOOTER */
        .status-footer {
            background: #05090a;
            color: var(--os-text-muted);
            padding: 4px 10px;
            font-size: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #000;
            box-shadow:
                inset 0 1px 0 rgba(255,255,255,0.03),
                0 -1px 0 rgba(0,0,0,0.9);
        }

        .status-left {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-label {
            color: #9eb5a5;
        }

        .status-value {
            font-family: var(--bios-font);
            font-size: 10px;
        }

        .signal-bar {
            display: inline-flex;
            gap: 2px;
            align-items: flex-end;
            margin-right: 6px;
        }

        .signal-bar span {
            width: 3px;
            border-radius: 1px 1px 0 0;
            background: #384546;
        }

        .signal-bar span:nth-child(1) { height: 4px; }
        .signal-bar span:nth-child(2) { height: 6px; }
        .signal-bar span:nth-child(3) { height: 8px; }
        .signal-bar span:nth-child(4) { height: 10px; background: #62b973; }
        .signal-bar span:nth-child(5) { height: 12px; background: #62b973; }

        /* Spinner */
        .buffer-wheel {
            display: inline-block;
            width: 10px;
            height: 10px;
            border: 2px solid #273435;
            border-top: 2px solid #8fd9a1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 4px;
        }

        @keyframes spin {
            100% { transform: rotate(360deg); }
        }

        /* BIOS BOOT SCREEN */
        #boot-screen {
            position: absolute;
            inset: 0;
            margin: 6px;
            border-radius: 8px;
            background: radial-gradient(circle at 50% 0%, rgba(64, 123, 70, 0.25) 0, #020a03 45%, #010402 100%);
            color: #9bffb3;
            font-family: var(--bios-font);
            padding: 20px 24px;
            z-index: 5000;
            box-sizing: border-box;
            box-shadow:
                inset 0 0 0 1px #15301a,
                0 0 0 1px #000;
            overflow: hidden;
        }

        #boot-screen::before {
            content: "";
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(
                    to bottom,
                    rgba(0,0,0,0.85) 0,
                    rgba(0,0,0,0.85) 1px,
                    rgba(0,0,0,0.8) 2px,
                    rgba(0,0,0,0.8) 3px
                );
            mix-blend-mode: soft-light;
            opacity: 0.8;
            pointer-events: none;
        }

        #boot-log {
            font-size: 13px;
            line-height: 1.5;
            text-shadow: 0 0 4px rgba(72, 214, 110, 0.8);
        }

        .bios-bar-container {
            width: 100%;
            border: 1px solid #52a866;
            height: 10px;
            margin-top: 16px;
            background: #020702;
            box-shadow: inset 0 0 4px #000;
            position: relative;
            z-index: 1;
        }

        #bios-bar-fill {
            width: 0%;
            background: linear-gradient(to right, #3edf64, #b8ffcb);
            height: 100%;
            box-shadow: 0 0 10px rgba(115, 255, 163, 0.7);
        }

        /* UPLINK OVERLAY */
        #uplink-overlay {
            position: absolute;
            inset: 6px;
            border-radius: 8px;
            background: rgba(1,5,3,0.74);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 4000;
        }

        #uplink-overlay > div {
            background: #061011;
            padding: 18px 26px;
            border-radius: 10px;
            border: 1px solid #62b973;
            box-shadow:
                0 0 0 1px #000,
                0 18px 40px rgba(0,0,0,0.85);
            color: var(--os-text-main);
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }

        #uplink-overlay p {
            margin: 0;
        }

        #uplink-overlay .buffer-wheel {
            width: 22px;
            height: 22px;
            border-width: 3px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<div class="pda-chassis">
    <div class="pda-screws"></div>
    <div class="pda-label-strip">SSU FIELD PDA &bull; ZONE OPERATIONS TERMINAL</div>

    <div class="pda-screen">
        <div class="pda-os-frame">
            <!-- BIOS boot overlay -->
            <div id="boot-screen">
                <div id="boot-log"></div>
                <div class="bios-bar-container">
                    <div id="bios-bar-fill"></div>
                </div>
            </div>

            <!-- UPLINK overlay -->
            <div id="uplink-overlay">
                <div>
                    <div class="buffer-wheel"></div>
                    <p><b>SYNCHRONIZING WITH SSU UPLINK...</b></p>
                </div>
            </div>

            <!-- TITLE BAR -->
            <div class="title-bar">
                <div class="title-left">
                    <div class="title-icon"></div>
                    <div>
                        <div class="title-text-main">SSU TACTICAL INTERFACE</div>
                        <div class="title-text-sub">PERSONAL DATA ASSISTANT &mdash; MILITARY GRID: ZONE / CORDON</div>
                    </div>
                </div>
                <div class="title-right">
                    <span class="zone-tag">SSU &bull; SECTOR 04</span>
                    <span id="pda-clock">--:--</span>
                </div>
            </div>

            <!-- NAVIGATION -->
            <div class="pda-nav">
                <div class="nav-btn active" id="btn-Personnel" onclick="switchTab('Personnel')">PERSONNEL DB</div>
                <div class="nav-btn" id="btn-Stalkers" onclick="switchTab('Stalkers')">WATCHLIST</div>
                <div class="nav-btn" id="btn-Relations" onclick="switchTab('Relations')">FACTION MATRIX</div>
            </div>

            <!-- MAIN DATA VIEWPORT -->
            <div class="viewport">
                <table id="table-Personnel" class="active">
                    <thead>
                        <tr>
                            <th>CALLSIGN</th>
                            <th>RANK</th>
                            <th>SPECIALISATION</th>
                            <th>STATUS</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

                <table id="table-Stalkers">
                    <thead>
                        <tr>
                            <th>ALIAS</th>
                            <th>THREAT INDEX</th>
                            <th>LAST KNOWN SECTOR</th>
                            <th>DIRECTIVES</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>

                <table id="table-Relations">
                    <thead>
                        <tr>
                            <th>FACTION</th>
                            <th>RELATION STATUS</th>
                            <th>ROE / NOTES</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <!-- ACTION BAR -->
            <div class="action-bar">
                <button class="gloss-btn" onclick="addNewRow()">+ ADD NEW RECORD</button>
                <div style="flex-grow:1"></div>
                <button class="gloss-btn commit-btn" onclick="saveToCloud()">COMMIT TO DATABASE</button>
            </div>

            <!-- STATUS BAR -->
            <div class="status-footer">
                <div class="status-left">
                    <span id="status-spinner" class="buffer-wheel" style="display:none;"></span>
                    <span class="status-label">STATUS:</span>
                    <span id="sync-status" class="status-value">READY</span>
                </div>
                <div>
                    <span class="signal-bar">
                        <span></span><span></span><span></span><span></span><span></span>
                    </span>
                    <span class="status-label">Uplink:</span>
                    <span class="status-value">ZONE SAT-NET &bull; 92%</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const UPLINK_URL = "https://script.google.com/macros/s/AKfycbyqfwn91pnhsTSG2mlPIG1X9OSpPwnnk_ur3JtpOMtxzwVR1I4iR4jFwxEgSj2Xg_VR/exec";
    let currentTab = "Personnel";

    async function switchTab(tabName) {
        currentTab = tabName;
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + tabName).classList.add('active');
        document.querySelectorAll('table').forEach(t => t.classList.remove('active'));
        document.getElementById('table-' + tabName).classList.add('active');
        await loadFromCloud();
    }

    async function loadFromCloud() {
        document.getElementById('sync-status').innerText = "FETCHING";
        document.getElementById('status-spinner').style.display = 'inline-block';
        try {
            const response = await fetch(`${UPLINK_URL}?sheet=${currentTab}`);
            const data = await response.json();
            const body = document.querySelector(`#table-${currentTab} tbody`);
            body.innerHTML = "";
            data.forEach(rowData => renderRow(rowData));
            document.getElementById('sync-status').innerText = "SYNCHRONIZED";
        } catch (e) {
            document.getElementById('sync-status').innerText = "OFFLINE";
        }
        document.getElementById('status-spinner').style.display = 'none';
    }

    async function saveToCloud() {
        document.getElementById('uplink-overlay').style.display = 'flex';
        const rows = Array.from(document.querySelectorAll(`#table-${currentTab} tbody tr`)).map(tr => {
            return Array.from(tr.querySelectorAll('input, select')).map(el => el.value);
        });

        try {
            await fetch(UPLINK_URL, {
                method: "POST",
                mode: "no-cors",
                body: JSON.stringify({ targetSheet: currentTab, rows: rows })
            });
            setTimeout(() => {
                document.getElementById('uplink-overlay').style.display = 'none';
                loadFromCloud();
            }, 1000);
        } catch (e) {
            document.getElementById('uplink-overlay').style.display = 'none';
        }
    }

    function renderRow(rowData = null) {
        const body = document.querySelector(`#table-${currentTab} tbody`);
        const tr = document.createElement('tr');

        if (currentTab === "Personnel") {
            const data = rowData || ["", "Private", "", "Active"];
            tr.innerHTML = `
                <td><input type="text" placeholder="CALLSIGN" value="${data[0]}"></td>
                <td>
                    <select>
                        <option ${data[1]=='Private'?'selected':''}>Private</option>
                        <option ${data[1]=='Sergeant'?'selected':''}>Sergeant</option>
                        <option ${data[1]=='Lieutenant'?'selected':''}>Lieutenant</option>
                        <option ${data[1]=='Captain'?'selected':''}>Captain</option>
                        <option ${data[1]=='Major'?'selected':''}>Major</option>
                    </select>
                </td>
                <td><input type="text" placeholder="E.G. SCOUT, SNIPER, TECH" value="${data[2]}"></td>
                <td>
                    <select>
                        <option ${data[3]=='Active'?'selected':''}>Active</option>
                        <option ${data[3]=='MIA'?'selected':''}>MIA</option>
                        <option ${data[3]=='KIA'?'selected':''}>KIA</option>
                        <option ${data[3]=='Deserted'?'selected':''}>Deserted</option>
                    </select>
                </td>
            `;
        } else if (currentTab === "Relations") {
            const data = rowData || ["", "Neutral", ""];
            tr.innerHTML = `
                <td><input type="text" placeholder="FACTION NAME" value="${data[0]}"></td>
                <td>
                    <select>
                        <option ${data[1]=='Allied'?'selected':''}>Allied</option>
                        <option ${data[1]=='Neutral'?'selected':''}>Neutral</option>
                        <option ${data[1]=='Hostile'?'selected':''}>Hostile</option>
                        <option ${data[1]=='War'?'selected':''}>War</option>
                    </select>
                </td>
                <td><input type="text" placeholder="ROE / NOTES" value="${data[2]}"></td>
            `;
        } else {
            const colCount = document.querySelectorAll(`#table-${currentTab} th`).length;
            const data = rowData || new Array(colCount).fill("");
            data.forEach((val, idx) => {
                const td = document.createElement('td');
                const placeholders = [
                    "ALIAS",
                    "THREAT INDEX",
                    "LAST KNOWN SECTOR",
                    "DIRECTIVES"
                ];
                const ph = placeholders[idx] || "";
                td.innerHTML = `<input type="text" placeholder="${ph}" value="${val}">`;
                tr.appendChild(td);
            });
        }
        body.appendChild(tr);
    }

    function addNewRow() {
        renderRow();
    }

    // BIOS Boot Logic with STALKER-flavoured text
    const logArr = [
        "SSU FIELD PDA BOOTLOADER v4.5",
        "CPU: ZELENOGORSK ARM/32 198MHz  [OK]",
        "MEMORY: 64MB SDRAM            [OK]",
        "ZONE MAP INDEX               [LOADED]",
        "RADIATION FILTER TABLES      [OK]",
        "UHF UPLINK: MIL-SAT CH.12    [LOCKED]",
        "SECURITY CLEARANCE:          [SSU / FIELD OPS]",
        "",
        "LOADING SSU TACTICAL OS..."
    ];
    let idx = 0;

    function boot() {
        const log = document.getElementById('boot-log');
        if (idx < logArr.length) {
            log.innerHTML += "> " + logArr[idx] + "<br>";
            idx++;
            setTimeout(boot, 400);
        } else {
            let p = 0;
            const bar = document.getElementById('bios-bar-fill');
            const itv = setInterval(() => {
                p += 4;
                bar.style.width = p + "%";
                if (p >= 100) {
                    clearInterval(itv);
                    loadFromCloud().then(() => {
                        document.getElementById('boot-screen').style.display = 'none';
                    });
                }
            }, 60);
        }
    }

    window.onload = boot;

    setInterval(() => {
        const d = new Date();
        document.getElementById('pda-clock').innerText =
            d.getHours().toString().padStart(2, '0') + ":" +
            d.getMinutes().toString().padStart(2, '0');
    }, 1000);
</script>
</body>
</html>
